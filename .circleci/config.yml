  version: 2.1
  jobs:
    build:
      docker: 
        - image: circleci/node:4.8.2 # the primary container, where your job's commands are run
      steps:
        - checkout # check out the code in the project directory
        - run:
            name: update-npm
            command: 'sudo npm install -g npm@5.6.0'
        - run:
            name: npm install
            command: npm install
            working_directory: ~/myapp
        - run:
            name: build
            command: npm run build
            working_directory: ~/myapp